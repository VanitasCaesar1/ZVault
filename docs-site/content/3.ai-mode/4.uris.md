---
title: "zvault:// URIs"
description: How zvault:// URI references work and how to use them.
---

`zvault://` URIs are references that point to secrets stored in the vault. They replace actual secret values in your config files, making them safe for git and safe for AI tools to read.

## Format

```
zvault://<path>
```

Where `<path>` is the full secret path in the vault.

## Examples

```bash
# Generated by zvault import
STRIPE_KEY=zvault://env/myapp/STRIPE_KEY
DATABASE_URL=zvault://env/myapp/DATABASE_URL
AWS_SECRET=zvault://env/myapp/AWS_SECRET

# Custom paths
REDIS_URL=zvault://infrastructure/redis-prod
JWT_SECRET=zvault://auth/jwt-signing-key
```

## How They're Created

When you run `zvault import .env`, each secret is stored in the vault and the original value is replaced with a `zvault://` URI:

```bash
# Before (in .env)
STRIPE_KEY=sk_live_51J3xKpQR7...

# After (in .env.zvault)
STRIPE_KEY=zvault://env/myapp/STRIPE_KEY
```

The path follows the pattern `env/<project>/<KEY>`, where `<project>` defaults to the current directory name.

## How They're Resolved

`zvault run` reads the env file, resolves each `zvault://` URI by fetching the secret from the vault, and injects the real value as an environment variable into the child process:

```bash
zvault run -- npm run dev
# STRIPE_KEY=sk_live_51J3xKpQR7... (injected into process)
```

The resolution happens at process start time. The child process sees normal environment variables — it doesn't need to know about ZVault.

## Mixed Files

Your env file can contain both references and plain values:

```bash
# .env.zvault
STRIPE_KEY=zvault://env/myapp/STRIPE_KEY    # Resolved from vault
NODE_ENV=development                          # Passed through as-is
PORT=3000                                     # Passed through as-is
```

## Why Not Just Use the Vault API Directly?

The `zvault://` URI approach has key advantages:

1. **Zero code changes** — your app reads normal env vars, no SDK needed
2. **AI-safe** — LLMs see the reference, not the value
3. **Git-safe** — `.env.zvault` can be committed
4. **Framework-agnostic** — works with any language, any framework
5. **Backwards-compatible** — plain values pass through unchanged
