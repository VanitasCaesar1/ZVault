---
import Blog from '../../layouts/Blog.astro';

const title = "Stop Leaking Secrets to LLMs";
const description = "Every AI coding tool reads your .env file. That means your Stripe keys, database passwords, and AWS credentials are sitting in someone else's context window. We built ZVault to fix this.";
const publishDate = "2026-02-11";
---

<Blog title={title} description={description} publishDate={publishDate} readTime="5 min read">

<h2>The problem nobody talks about</h2>

<p>
  Open any project with Cursor, Copilot, or Kiro. The AI reads your codebase to understand context. That includes your <code>.env</code> file with <code>STRIPE_SECRET_KEY=sk_live_...</code> in it.
</p>

<p>
  Your secrets are now in a prompt. Sent to an API. Processed on someone else's infrastructure. Maybe logged, maybe cached, maybe used for training. You have no idea.
</p>

<p>
  <strong>This is not a theoretical risk.</strong> It happens right now, on every project that uses AI coding tools with a <code>.env</code> file in the workspace.
</p>

<p>
  The standard advice of adding <code>.env</code> to <code>.gitignore</code> does not help. Git ignores the file. Your AI does not.
</p>

<h2>The fix: references instead of values</h2>

<p>
  ZVault replaces your <code>.env</code> with a <code>.env.zvault</code> file that contains <strong>references</strong> instead of real values:
</p>

<pre><code># Before (.env) - your AI sees this
STRIPE_KEY=sk_live_51J3xKpQR7mN...
DATABASE_URL=postgres://admin:s3cret@db:5432/app
AWS_SECRET_KEY=wJalrXUtnFEMI/K7MDENG...

# After (.env.zvault) - your AI sees this
STRIPE_KEY=zvault://env/myapp/STRIPE_KEY
DATABASE_URL=zvault://env/myapp/DATABASE_URL
AWS_SECRET_KEY=zvault://env/myapp/AWS_SECRET_KEY</code></pre>

<p>
  Your AI knows what secrets exist. It can reference them in code. It just cannot see the actual values. At runtime, <code>zvault run</code> resolves the references and injects real values into your process.
</p>

<h2>Three commands, zero code changes</h2>

<pre><code># 1. Import your .env (encrypts secrets, generates references)
$ zvault import .env
  Imported 12 secrets into vault
  Created .env.zvault (safe for git)
  Added .env to .gitignore

# 2. Your AI now sees references, not values
$ cat .env.zvault
STRIPE_KEY=zvault://env/myapp/STRIPE_KEY
DATABASE_URL=zvault://env/myapp/DATABASE_URL

# 3. Run your app - secrets injected at runtime
$ zvault run -- npm run dev
  12 secrets resolved - npm run dev</code></pre>

<p>
  Your app reads normal environment variables. No SDK, no code changes, no vendor lock-in. ZVault works with any language and any framework.
</p>

<h2>AI Mode: the MCP server</h2>

<p>
  ZVault includes an <strong>MCP server</strong> (Model Context Protocol) that connects directly to your IDE AI. The AI can query what secrets exist, check if required secrets are present, and generate <code>.env.example</code> files without ever seeing a real value.
</p>

<pre><code># One command to set up
$ zvault setup cursor   # or: kiro, continue, generic

# The MCP server exposes 7 tools:
# zvault_list_secrets     - names only, never values
# zvault_describe_secret  - metadata, type, last rotated
# zvault_check_env        - verify all required secrets exist
# zvault_generate_env     - generate .env.example from vault
# zvault_secret_stats     - count, engines, health
# zvault_search_secrets   - fuzzy search by name
# zvault_run_command      - execute with secrets injected</code></pre>

<p>
  This means your AI can write code that references secrets correctly, verify that all required environment variables are configured, and even run your app with secrets injected. All without a single real value entering the context window.
</p>

<h2>How it works under the hood</h2>

<p>
  ZVault is a full secrets manager written in Rust. Not a wrapper around <code>.env</code> files. A real vault with:
</p>

<ul>
  <li><strong>AES-256-GCM encryption</strong> at rest (barrier pattern, storage never sees plaintext)</li>
  <li><strong>Shamir Secret Sharing</strong> for root key protection</li>
  <li><strong>Key zeroization</strong> - all key material is wiped from memory when no longer needed</li>
  <li><strong>Constant-time token comparison</strong> - no timing side-channels</li>
  <li><strong>Fail-closed audit logging</strong> - if audit fails, the request is denied</li>
  <li><strong>Pure Rust crypto</strong> - RustCrypto ecosystem, no OpenSSL, no C dependencies</li>
</ul>

<p>
  It runs as a single binary. No Docker, no Java, no runtime dependencies. Start it, initialize with Shamir shares, and you have a production-grade vault running locally.
</p>

<h2>Who is this for?</h2>

<p>
  <strong>Solo developers</strong> who use AI coding tools daily and do not want their API keys in someone else's context window. The free tier gives you a local encrypted vault with CLI access.
</p>

<p>
  <strong>Teams</strong> who want to share secrets safely while using AI tools. The Team plan adds shared vaults, SSO, and audit log export.
</p>

<p>
  <strong>Security-conscious orgs</strong> who need a lightweight alternative to HashiCorp Vault. ZVault is open source (MIT), self-hosted, and sets up in 2 minutes instead of hours.
</p>

<h2>Pricing</h2>

<p>
  The vault itself is free and open source. AI Mode (MCP server, IDE setup, zvault:// references) is $8/dev/month.
</p>

<div class="callout">
  <p>
    <strong>Free:</strong> Local vault, CLI, .env import/export, web dashboard, KV/Transit/PKI engines.
  </p>
  <p>
    <strong>Pro ($8/mo):</strong> AI Mode - MCP server, zvault:// references, IDE setup, llms.txt generation.
  </p>
</div>

<h2>Try it now</h2>

<div class="install-box">
  <code>curl -fsSL https://zvault.cloud/install.sh | sh</code>
</div>

<p>Or via npm:</p>

<pre><code>npx zvault import .env</code></pre>

<p>Or build from source:</p>

<pre><code>cargo install --git https://github.com/zvault/zvault vaultrs-cli</code></pre>

<hr />

<div class="text-center py-8">
  <h2>Your .env file is a liability. Fix it in 2 minutes.</h2>
  <p>Install ZVault, import your secrets, and never leak a key to an LLM again.</p>
  <a href="https://docs.zvault.cloud/getting-started/quickstart" class="inline-flex items-center gap-2 bg-accent text-bg px-6 py-3 rounded-xl font-semibold text-sm hover:bg-accent/90 transition-colors no-underline hover:no-underline mt-2">
    Read the Quick Start
  </a>
</div>

</Blog>
