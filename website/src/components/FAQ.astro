---
const faqs = [
  {
    q: 'Is ZVault really free?',
    a: 'Yes. The CLI, local vault, all engines (KV, Transit, PKI), web dashboard, and Shamir seal are free forever under MIT. No credit card, no time limit. You only pay if you want AI Mode.',
  },
  {
    q: 'What is AI Mode?',
    a: 'AI Mode includes the MCP server that connects to your IDE\'s AI assistant (Cursor, Kiro, Continue). It lets AI see what secrets exist without seeing values, using zvault:// references instead of raw .env files.',
  },
  {
    q: 'Where are my secrets stored?',
    a: 'On your machine, encrypted with AES-256-GCM. ZVault is local-first — your secrets never leave your device unless you explicitly self-host a remote server. There is no cloud service holding your data.',
  },
  {
    q: 'What does "per developer" mean?',
    a: 'A "developer" is anyone who uses AI Mode (MCP server + IDE integration). Team members who only access the vault via CLI or API don\'t need a paid seat.',
  },
  {
    q: 'Can I self-host for free?',
    a: 'Absolutely. Self-host the vault, CLI, and dashboard for free. AI Mode (MCP server) requires a Pro license key, validated locally via Ed25519 signatures — no phone-home.',
  },
  {
    q: 'What if I lose my unseal keys?',
    a: 'If you lose all unseal key shares and don\'t have a recovery key, your vault data is unrecoverable by design. This is a security feature. Store shares in separate secure locations.',
  },
  {
    q: 'How does the MCP server work?',
    a: 'The MCP server runs locally alongside your vault. Your IDE\'s AI connects to it and can list secret paths, check metadata, and understand your secret structure — but it never receives the actual secret values.',
  },
  {
    q: 'Can I use ZVault in CI/CD?',
    a: 'Yes. Use `zvault run` in your CI pipeline to inject secrets at runtime. No secrets in environment variables, no secrets in config files. Works with GitHub Actions, CircleCI, GitLab CI, and any other CI system.',
  },
  {
    q: 'How is this different from HashiCorp Vault?',
    a: 'HashiCorp Vault requires significant setup and operational overhead. ZVault installs in 2 minutes, imports your .env, and has native AI integration that Vault doesn\'t offer. Plus it\'s MIT licensed, not BSL.',
  },
  {
    q: 'What if I cancel?',
    a: 'Your vault and secrets remain intact. You just lose AI Mode features. The vault itself is always free and open source.',
  },
];
---

<section class="py-24" id="faq">
  <div class="container">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold tracking-tight mb-4">Frequently asked questions</h2>
      <p class="text-muted text-lg">Everything you need to know.</p>
    </div>

    <div class="max-w-2xl mx-auto space-y-2">
      {faqs.map((faq, i) => (
        <details class="group bg-bg-card border border-border rounded-xl overflow-hidden" open={i < 2}>
          <summary class="flex items-center justify-between px-5 py-4 cursor-pointer list-none text-sm font-medium hover:bg-bg-card-hover transition-colors">
            {faq.q}
            <svg class="w-4 h-4 text-dim flex-shrink-0 ml-4 transition-transform duration-200 group-open:rotate-[135deg]" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M8 3v10M3 8h10"/>
            </svg>
          </summary>
          <div class="px-5 pb-4 text-sm text-muted leading-relaxed">
            {faq.a}
          </div>
        </details>
      ))}
    </div>
  </div>
</section>
